### 가상 서버를 제공하는 EC2
EC2(Elastic Compute Cloud)는 AWS에서 가장 기본적이면서 널리 쓰이는 인프라이다.  
EC2는 인터넷에 연결된 가상서버를 제공해준다.  
  
EC2를 사용해야 하는 이유는 효율성과 비용 절감에 있다.  
EC2는 클릭 몇 번으로 서버를 생성할 수 있기 때문에 실제 서버를 구축하는 것보다  
훨씬 간편하고 효율적이다.  
또한, 사용한 만큼만 요금을 지불하면 되므로 비용도 절감할 수 있다.  
  
EC2 인스턴스는 우리가 일반적으로 보는 PC나 서버와 똑같은 형태이며 Linux나 Windows가 설치되어 있다.  
가상 서버이기 때문에 모니터에는 직접 연결할 수 없고 터미널 또는 원격 데스크톱 연결로 접속해야 한다.  
  
다음은 EC2 기본 개념이다.
- 시작(Start) : EC2 인스턴스를 시작한다.  
  운영체제가 부팅되고 사용할 수 있는 상태이다.  
  시작하는 순간부터 사용요금이 과금되며 1분을 사용하더라도 1시간 요금으로 책정된다.  
- 정지(Stop) : EC2 인스턴스를 정지한다.  
  운영체제를 종료하여 시스템이 정지한 상태이며, 사용 요금이 과금되지 않는다.  
- 삭제(Terminate) : EC2 인스턴스를 삭제한다.  
  삭제된 뒤에 목록에서 완전히 사라지려면 약간의 시간이 걸린다. 
- 재부팅(Reboot) : EC2 인스턴스를 재부팅한다.  
  운영체제를 종료한 뒤 다시 시작한다.  
- Root 장치 : 운영체제가 설치되는 스토리지이다.  
  Root 장치로 EBS와 인스턴스 스토리지를 사용할 수 있다.  
- Kernel ID : 인스턴스가 사용하는 Linux 커널이다.  
  Linux 반가상화는 외부에서 Linux 커널을 지정해주어야 한다.  
  그리고 AWS에서 제공하는 다양한 Linux 커널을 선택할 수 있다.  
  
> #### 운영체제에 따른 가상화 형태  
> - Windows : OS의 커널을 수정할 수 없기 때문에 하드웨어 가상화(HVM), 전가상화(Full Virtualization)로 실행된다.
> - Linux : OS의 커널을 수정할 수 있기 때문에 반가상화(Paravirtualization)로 실행된다.  
>   때에 따라서는 전가상화 커널을 선택할 수도 있다.)

> #### EC2 SLA  
> EC2의 SLA(Service Level Agreement)는 월 99.95%이다.  
> 따라서 한달에 약 0.36시간까지 장애가 발생할 수도 있다.  
> EC2를 사용하여 서비스를 구축할 때는 항상 장애가 발생할 수 있다는 가정하에 설계를 해야 한다.  
> 가동시간이 99.95%를 충족하지 못할 때는 서비스 크레딧(요금 결제용 포인트)을 받을 수 있다.

> #### 가상화의 종류 3가지
> 1. 호스트 가상화  
> 호스트 가상화는 Base가 되는 Host OS위에 Guest OS가 구동되는 방식이다.  
> 종류로는 VM Workstation, VMware Server, VMware Player, MS Virtual Server, Virtual PC, Virtual Box, > Paralles Workstation 등이 있다.
> - 장점 : 가상의 하드웨어를 애뮬레이팅하기 때문에 호스트 운영체제에 크게 제약사항이 없음
> - 단점 : OS 위에 OS가 얹히는 방식이기 때문에 오버헤드가 클 수 있음  
> ![image](https://user-images.githubusercontent.com/33191974/135842396-8135dceb-0502-4e9d-b5af-5457764bd39e.png)  
> 오버헤드는 어떤 처리를 하기 위해 들어가는 간접적인 처리 시간, 메모리 등을 말한다.  
> '간접적인'이라는 표현이 들어가는 이유는 목적 달성에 본질적인 것은 아니지만 필요한 자원이기  
> 때문이다. 즉 반드시는 아닌 것이다.  
> 예를 들어 A라는 처리를 단순하게 실행한다면 10초 걸리는데, 안전성을 고려하고 부가적인 B라는  
> 처리를 추가한 결과 처리시간이 15초 걸렸다면, 오버헤드는 5초가 된다.  
> 또한 이 처리를 B를 개선해 B라는 처리를 한 결과, 처리시간이 12초가 되었다면, 이 경우 오버헤드가  
> 3초 단축되었다고 말한다.
> 2. 하이퍼바이저 가상화  
> 하이퍼가상화는 Host OS없이 하드웨어에 하이퍼바이저를 설치하여 사용하는 방식이다.  
> 종류로는 Xen, MS hyper-V, citrix, KVM등이 있다.  
> - 장점 : 별도의 Host OS가 없기 때문에 오버헤드가 적고 하드웨어를 직접 제어하기 때문에  
> 효율적으로 리소스를 사용할 수 있음  
> - 단점 : 자체적으로 머신에 대한 관리 기능이 없기 때문에 관리를 위한 컴퓨터나 콘솔이 필요함.  
> ![image](https://user-images.githubusercontent.com/33191974/135843829-9dbdd0b9-c7f1-4deb-8270-563dc386c284.png)  
> 하이퍼바이저 가상화는 아래와 같이 다시 전가상화(Full-Virtualization or Hardware Virtual Machine)와  
> 반가상화(Para-Virtualization)로 분류된다.  
>  2-1 전가상화(Full-Virtualization)  
>  전가상화는 하드웨어를 완전히 가상화하는 방식으로(Hardware Virtual Machine)이라고도 불린다.  
>  하이퍼바이저를 구동하면 DOM0라고 하는 관리용 가상 머신이 실행되며, 모든 가상머신들이 하드웨어  
>  접근이 DOM0을 통해서 이루어진다.  
>  즉, 모든 명령에 대해서 DOM0가 개입을 하게되는 형태이다.  
>  쉽게 말해 하이퍼바이저는 가상화된 OS가 뭐든지간에 각 OS들이 내리는 명령어를 알아들을 수 있다.  
>  예를 들어 윈도우에서 Add, 리눅스에서 ADD, 맥에서 add라는 명령어를 내렸을 때 하이퍼바이저가   
>  "더해라"라고 번역하여 명령어를 실행해주는 것이다.  
>  하이퍼바이저는 이러한 번역 역할뿐만 아니라 가상화된 OS들에게 자원을 할당해주는 역할도 담당한다.  
>  - 장점 : 하드웨어를 완전히 가상화하기 때문에 Guest OS 운영체제의 별다른 수정이 필요없음
>  - 단점 : 하이퍼바이저가 모든 명령을 중재하기 때문에 성능이 비교적 느림.  
>  2-2 반가상화(Para-Virtualization)  
>  반가상화는 전가상화와 달리 하드웨어를 완전히 가상화하지 않는다.
>  전가상화의 가장 큰 단점인 성능저하의 문제를 해결하기 위해 하이퍼콜(Hyper Call)이라는  
>  인터페이스를 통해 하이퍼바이저에게 직접 요청을 날릴 수 있다.  
>  쉽게 말하면 가상화된 각 OS들이 각각 다른 번역기를 갖고 있는 것이다.  
>  그 번역기는 각각 다른 OS에서 내리는 각각 다른 명령어를 "더해라"라고 번역해주게 되는 것이다.  
>  - 장점 : 모든 명령을 DOM0를 통해 하이퍼바이저에게 요청하는 전가상화에 비해 성능이 빠름
>  - 단점 : 하이퍼바이저에게 Hyper Call 요청을 할 수 있도록 각 OS의 커널을 수정해야하며 오픈 소스  
>  OS가 아니면 반가상화를 이용하기가 쉽지 않음  
>  3. 컨테이너 가상화  
>  호스트 OS 위에 컨테이너관리 소프트웨어를 설치하여, 논리적으로 컨테이너를 나누어 사용한다.  
>  컨테이너는 어플리케이션 동작을 위한 라이브러리와 어플리케이션등으로 구성되기 때문에 이를  
>  각각 개별 서버처럼 사용가능하다.  
>  - 장점 : 컨테이너 가상화는 오버헤드가 적어 가볍고 빠른 장점이 있음.
>  ![image](https://user-images.githubusercontent.com/33191974/135849478-5cab6d04-b3b4-45e5-b6c2-78b8828da8ed.png)






























>  
