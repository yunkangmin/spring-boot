### EC2 인스턴스 구매 옵션
EC2 인스턴스 유형이 여러가지 사양으로 나뉘어 진 것과 더불어 구매 옵션도 여러 가지가  
준비되어 있는 이유는 비용 절감 때문이다.  
장기간 예약을 하거나 수요가 적은 시간에 인스턴스를 사용하는 방식으로 비용을 절감할 수 있다.  
  
EC2 인스턴스는 구매 및 과금 방식에 따라 크게 3가지로 구분된다.  
- 온 디멘드 인스턴스(On Demand Instance) : 필요할 때 바로 생성해서 사용할 수 있는 방식이다.  
  과금은 1시간 단위로 이루어지며 1분을 사용했더라도 1시간으로 책정된다.  
  3가지 방식 중 요금이 가장 비싸다.  
     - 공유 인스턴스(Shared tenancy) : 하나의 물리적인 서버에 여러 개의 EC2 인스턴스가 실행된다.  
       다른 인스턴스가 서버 자원을 많이 소모한다면 현재 인스턴스의 성능에 영향이 있을 수 있다.  
     - 전용 인스턴스(Dedicated tenancy) : 하나의 물리적인 서버에 하나의 EC2 인스턴스가 실행된다.  
       서버 내에 다른 인스턴스가 없으므로 성능에 영향을 미치지 않는다.  
       공유 인스턴스 방식보다 비용이 비싸다. 
- 스팟 인스턴스(Spot Instance) : 경매 방식의 인스턴스이다.  
  인스턴스의 스펙을 설정하고 원하는 가격을 입력하여 입찰하면 수요와 공급에 따라 가격이 결정되고  
  높게 입찰한 사람한테 인스턴스가 할당된다.  
  해당 스펙의 인스턴스를 다른 사람이 더 높은 가격으로 입찰했다면 내가 가지고 있는 인스턴스는  
  종료된다.    
  ![image](https://user-images.githubusercontent.com/33191974/135854624-43b584b2-7abc-4fc6-aeea-1cf3237a64f4.png)  
  스팟 인스턴스는 사용자 제시가격(입찰가격)을 정해놓고 저렴할 때 이용할 수 있다.  
  사용자가 제시한 가격보다 인스턴스 시장 가격이 높아지게 되면 인스턴스가 종료된다.  
  시장가격은 인스턴스 패밀리, 인스턴스 크기, 가용역역(AZ), 리전(Region) 등에 따라 달라진다.  
  또한 수요와 공급량에 따라 가격이 달라진다.  
  종료되는 시점을 알 수는 없다.  
  하지만 여유 자원에 대한 경매 방식으로 온디멘드 대비 80 ~ 90% 저렴하다.  
  -  장점  
     - 1 ~ 6시간 이내 짧은 워크로드를 다루거나, 갑작스런 피크 타임에 해당하는 컴퓨팅 리소스를  
       확보해야 할 때 좋다. 
     - 즉, 단기적으로 수요가 많을 때 유리히다.  
     - 주로 Batch Job 등 용도로 사용하는 서버에 잘 어울린다. 
  스팟 인스턴스는 다음과 같은 상황에 적합하다.  
  - 클러스터링으로 이루어지는 분석 작업
  - 이미지 변환, 비디오 렌더링
  - 웹 크롤링
  - 각종 테스트
  - 기타 불시에 중단되어도 상관 없는 업무

- 예약 인스턴스(Reserved Instance) : 일정한 예약금을 내면 인스턴스를 1년 또는 3년 동안 예약할 수 있으며  
  시간당 요금이 대폭 할인된다.  
  온 디멘드 인스턴스와 마찬가지로 공유 인스턴스, 전용 인스턴스로 나뉜다.  
   - Light 사용률 예약 인스턴스 : 모든 예약 인스턴스 중에서 선결제 금액이 가장 저렴하다.  
     이 인스턴스 유형은 사용 시간이 많지 않을 때 유용하다.  
     즉 하루 종일 사용하지 않고 1년 중 몇 달 사용하지 않는 개발 및 테스트와 단기 프로젝트에 적합하다.  
   - Medium 사용률 예약 인스턴스 : Light보다 선결제 금액은 비싸지만 시간 당 요금이 저렴하다.  
     이 인스턴스 유형은 거의 항상 실행하지만 사용량에 약간의 변화가 있을 때 유용하다.  
   - Heavy 사용률 예약 인스턴스 : Medium보다 선결제 금액은 비싸지만 모든 예약 인스턴스 중에서 시간당  
     요금이 가장 저렴하다.  
     이 인스턴스 유형은 24시간 상시 가동되어야 하는 출시된 제품에 유용하다.  
     
업무 형태나 상황에 맞게 인스턴스 구매 방식을 선택하면 비용을 효과적으로 줄일 수 있다.  
이 책에서는 온 디멘드 인스턴스로 설명을 한다.
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
