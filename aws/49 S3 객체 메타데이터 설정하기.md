## S3 객체 메타데이터 설정하기
S3 객체에 다양한 기능을 하는 메타데이터를 설정할 수 있다. 메타데이터는 HTTP 1.1 표준에  
정의된 메타데이터와 S3 전용 메타데이터로 나뉜다. S3 객체 목록에서 파일을 선택한 뒤 위쪽  
속성 탭을 클릭하면 하단에 메타데이터에서 편집을 누른다.  
![image](https://user-images.githubusercontent.com/33191974/147652518-d1779960-b0d3-4324-a1f2-cedcba1448d3.png)    
![image](https://user-images.githubusercontent.com/33191974/147652601-20891359-4a63-421f-99a9-51e731f7255d.png)  
  
S3 객체에 HTTP 헤더를 설정할 수 있다. 이 헤더는 HTTP 1.1에 정의된 것이다.  
  
- Cache-Control : 브라우저 캐시 정책을 설정한다. Value에 max-age=3600과 같은 식으로 데이터 만기 시간을  
초 단위로 지정할 수 있다. 만기 시간이 지나기 전에 다시 요청을 할 경우 브라우저에서는 서버에서 데이터를  
가져오지 않고 로컬에 있는 데이터를 사용한다. 이 설정은 AWS의 CDN 서비스인 CloudFront와도 연계된다.  
Cache-Control에 대한 내용은 상당히 방대하므로 인터넷을 참조하기 바란다.   
- Content-Disposition : value에 attachment로 설정하면 JPG 파일같은 경우 웹 브라우저에서 그림 파일을  
보여주지 않고 바로 다운로드한다. 그림파일뿐만 아니라 다른 형식의 파일에도 저장할 수 있다.  
- Content-Type : 웹 브라우저에서 파일을 어떻게 처리해야 하는지 알려주는 메타데이터이다. 보통 확장자에  
따라 자동으로 설정된다. 확장자가 없는 파일은 이 메타데이터를 통해 강제로 형식을 지정해 줄 수 있다.  
예를 들면 HTML을 담고 있는 hello라는 파일을 올리고, 웹 브라우저에서 열면 내용이 보이지 않고 바로 다운  
로드가 되어버린다. 그래서 hello라는 파일의 Content-Type을 text/html로 설정해주면 웹 브라우저에서  
HTML 파일로 인식해서 내용을 보여주게 된다.  
- Content-Language : 텍스트로 된 파일(HTML 등)의 언어를 지정한다. en, ko, jp 혹은 en-us, ko-kr, ja-jp등  
으로 지정한다.  
- Expires : Cache-Control과 같은 동작을 하지만 초 단위가 아닌 특정 날짜와 시간을 지정하여 만기 시간을  
설정한다. Tue, 22 APr 2014 20:00:00 GMT와 같은 형식으로 지정해야 한다.  
- Content-Encoding : 데이터 인코딩 방식이다. Value에 gzip을 지정할 수 있으며 이 때에는 데이터를 압축  
하여 해제하여 사용하게 된다. 텍스트 데이터가 많고 용량이 큰 경우 이 메타데이터를 사용하면 전송 비용을  
절감할 수 있다(JPG나 PNG 등의 그림 파일은 이미 포맷 자체가 압축 데이터이므로 gzip을 설정하더라도 용량이  
크게 줄어들지 않는다. 따라서 그림 파일에는 이 메타데이터를 설정하지 않는 것이 좋다). gzip을 가장 많이  
사용하며 deflate도 지정할 수 있다.  
  
다음은 S3 전용 메타데이터이다.  
- Website Redirect Location : 웹 브라우저로 해당 파일에 접속했을 때 다른 파일이나 URL로 리다이렉션하는  
기능이다. /hello.html처럼 S3에 올라가 있는 파일명을 지정할 수 있다(이 때에는 /로 시작해야 한다.). 또는  
http://www.example.com처럼 외부 도메인 또는 URL을 지정할 수도 있다. 이 설정은 버킷을 정적 웹사이트 호스  
팅으로 설정한 뒤 S3 Website Endpoint로 접속해야 동작한다(x-amx-website-redirect-location).

다음은 사용자 정의 메타데이터이다.  
- x-amx-meta : 사용자 마음대로 사용할 수 있는 메타데이터이다. 객체에 추가적인 설명을 넣고 싶을 때 사용  
한다. x-amz-meta-뒤에 임의로 이름을 붙여 x-amx-meta-user-id와 같이 사용하면 된다.  
...
















































