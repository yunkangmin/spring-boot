리눅스를 사용하다보면 보편적으로 명령어로 만들어 사용하는 경우가 많다. 리눅스에서는     
이러한 경우 사용자가 직접 명명하여 명령어를 사용할 수 있으며, 직접 명명하여 명령을   
사용시에 .bash_profile을 수정해야 한다.   
  
# .bash_profile이란?   
긴 명령어를 단 1글자 혹은 2글자를 입력하여 실행할 수 있다면 가독성이 높아질 것이다.  
  
리눅스에서 너무 긴 명령어이거나 특정 파일을 실행하게 될 때 보다 간결하고 쉽게   
사용하기 위해서 명령어를 명명하기 위해 사용하는 파일이 .bash_profile이다.  

# .bash_profile 설정   
현재 MySQL은 컴파일 설치로 인해 설치된 MySQL 경로 bin로 경로를 이동하여 직접 실행  
해야 하며, .bash_profile 파일을 이용하여 모든 경로에서 명령어를 사용할 수 있도록   
할 것이다.  
  
> #### .bash_profile 주의사항  
> 1. 각 파일의 맨 아랫부분에 실행 코드를 추가할 때의 기준이다.  
> 2. 특별히 코드를 변경하지 않았다면 이 순서대로 실행된다.  
> 3. 실행코드를 하단에 추가하는 것이 보편적이다. 

## 1. 경로이동
```
$ cd
```
접속하는 계정의 홈경로로 이동한다.   

## 2. .bash_profile 수정하기  
```
$ vi .bash_profile
(.bash_profile을 vi 편집기로 실행)
```
```
PATH=$PATH:HOME/bin:/usr/app/mysql/bin:/usr/local/apache/bin
(위와 같이 PATH로 된 부분에서 실행하고자 하는 파일이 있는 경로를 콜론으로  
붙여서 추가한다)
BASH_ENV=$HOME/.bashrc
USERNAME="root"
```
편집중인 vi 편집기를 저장하고 종료한다.  

## 3. 수정한 .bash_profile 적용하기  
```
$ source .bash_profile
(.bash_profile이 적용되도록 한다.)  
```
적용을 완료하게 되면 기존의 /usr/app/mysql/bin 경로를 지정하여 실행했던 것을  
모든 경로에서 사용할 수 있게 된다.  

---

# 리눅스 환경변수(path) 설정
환경변수란 자바등을 깔아본 사람들이라면 이미 익숙할 것이다.  
어떤 프로그램이 돌아가게 해주는 실행파일의 경롤르 잡아주는 걸 환경변수 세팅이라고   
하는데, 리눅스에는 매우 다양한 환경변수들이 있다.   
현재 지정된 환경변수를 출력하는 명령어는 printenv이다.   
<img src="https://user-images.githubusercontent.com/33191974/158389657-414017cd-c3ee-433e-9845-9ac2fb6fd4cb.png" width="50%" height="50%"/>  
  
환경변수들의 경로인 path를 출력하는 명령어는 echo $PATH이다. path들은 전부  
`:`(콜론)으로 구별되어 있다.  
<img src="https://user-images.githubusercontent.com/33191974/158389756-e16300ef-ad1b-4637-bcd3-7cbc3bee8889.png" width="50%" height="50%"/>   
여기서 하나 알아두어야 할 점은 우리가 리눅스에서 사용하는 명령어들도 결국 일종의   
실행 파일인데 명령어 입력 시 환경변수에 잡혀있는 PATH를 따라가서 해당 파일이  
실행되는 원리로 명령어가 작동되어 있다는 이야기이다.   
  
이 점을 응용해보자. 명령어들이 실행파일이고, path는 그 실행파일의 경로를  
지정해준 것이라고 하였으니, 우리가 어떤 프로그램을 만들고 환경변수에 그 프로그램의  
경로를 등록시켜주면 우리가 자체적으로 만든 명령어 가지고도 우리의 프로그램을   
이용할 수 있게 된다는 애기가 된다.   
  
그럼 먼저 쉘 언어를 이용해 간단한 덧셈 프로그램을 만들어보자.  
콘솔에 vi add라고 입력하면 빈 텍스트 에디터가 생긴다.   
<img src="https://user-images.githubusercontent.com/33191974/158390752-8cf27c5e-51c4-4540-8de9-5239d4e61bae.png" width="50%" height="50%"/>   
  
vi는 일종의 텍스트 에디터로 다양한 기능을 갖추었으나 자세한 설명은 나중에 하도록  
하고 지금은 쉘 코딩을 위해 텍스트 편집으로만 이용한다.   
  
아무튼 이렇게 입력하고 나면 빈 창이 뜨는데 i를 입력하면 편집(insert)모드로  
전환된다.   
  
여기에 아래의 내용을 동일하게 입력한다.   
```
#!/bin/bash
sum=$(($1 + $2))
echo "$1 + $2 = $sum"
```
그리고 ESC를 누르면 편집모드가 종료되는데, 이 때 `:`(콜론)을 입력하면 종료모드를  
선택할 수 있게 된다.  
`:`이 입력된 종료모드에서 w는 다른이름으로 저장모드이고, q는 저장없이 종료, !는   
강제 수행 명령어이다.   
이를 합쳐서 주로 `:wq`이런식이나, `:wq!`이런식으로 많이 사용한다. 아무튼 저장 후   
종료를 해준다.   
  
여기까지 했으면 프로그램이 잘 동작하는지 테스트해보자.  
쉘 스크립트의 실행 명령어인 sh를 앞에 써주고, 프로그램의 이름인 add, 이어서  
피연산자 2개를 띄어쓰기로 구분해서 입력해준다(ex) sh add 1 2).  
<img src="https://user-images.githubusercontent.com/33191974/158391654-7573a377-69d6-460b-b0c7-89ac9f6a9c0b.png" width="50%" height="50%"/>   

이제 본 목적으로 돌아와서 이 프로그램을 환경변수에 등록하여, 이 프로글매이 있는  
폴더까지 와서 sh add 1 2와 같이 입력해서 실행하는 것이 아닌, 어디에서나 add  
1 2와 같이 명령어처럼 바로 실행할 수 있게 해보자.  
  
환경변수를 새로 등록하거나 편집하는 명령어는 export PATH=새로 등록할 프로그램의  
주소이다.   
그런데 한가지 주의해야 할 점은 위의 명령어처럼 바로 해버리면 기존 환경변수에   
덮어쓰기가 된다는 점이다.   
따라서 기존 환경변수에 이어서 새 환경변수를 등록하기 위한 명령어는 export PATH=  
$PATH:새로 등록할 프로그램의 주소를 사용한다.  
<img src="https://user-images.githubusercontent.com/33191974/158392300-8612a343-1916-48b4-a305-419e5282d620.png" width="50%" height="50%"/>   
위와 같이 제대로 PATH를 등록했다면 sh 명령어없이 프로그램 이름인 add만으로도 어느  
경로에서나 명령어처럼 사용할 수 있음을 알 수 있다.  
  
여기까지 해서 printenv, 기초적인 vi 사용법, PATH 설정법 등에 대해 알아보았다.  
참고로 export를 통한 path 설정은 일시적인 것으로 로그아웃하면 다시 기본 설정으로   
돌아간다. 영구적인 path 저장법은 추후 소개할 예정이다.  
 
---

# ~/.local/bin  
보통 `/usr/bin` 아래에 있는 것은 시스템에 미리 설치된 실행 가능한 프로그램으로   
시스템 업그레이드에 따라 바뀔 수 있다.   
`/usr/local/bin` 디렉터리는 사용자에게 실행 가능한 프로그램을 놓는 곳이다.   
시스템 업그레이드로 같은 이름의 파일을 덮어쓰지 않도록 추천한다.   
만약 두 디렉터리에 같은 실행 가능한 프로그램이 있다면 누가 먼저 실행하는지는    
PATH 환경변수의 영향을 받는다. 예를 들어 필자 서버의 PATH 변수는  
```
echo $PATH
/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin
:/sbin:/home/dean/bin
```
여기 `/usr/local/bin이 `/usr/bin`보다 우선한다.  












