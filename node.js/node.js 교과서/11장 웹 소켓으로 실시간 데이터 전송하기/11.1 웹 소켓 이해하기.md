이 장에서는 웹 소켓을 사용하여 실시간으로 데이터를 주고받는 방법에 대해 배워본다. 실시간으로 데이터를  
전달할 수 있는 앱의 폭이 넓어진다. 웹 소켓에 대한 개념을 먼저 익히고 웹 소켓을 사용하여 GIF 채팅방을   
만들어보자.  

# 11.1 웹 소켓 이해하기
웹 소켓이란 말을 들으면 Socket.IO를 먼저 떠올리는 경우가 많다. 하지만 Socket.IO는 웹 소켓을 활용한  
라이브러리지 웹 소켓 그 자체는 아니다. 나중에 Socket.IO를 사용하기 위해서는 기반 기술인 웹 소켓에 대해  
먼저 알아야 한다.  
그림 11-2 웹 소켓 이미지  
<img src="https://user-images.githubusercontent.com/33191974/153581947-1fefe55b-b46d-4421-916c-7695370f3b3d.png" width="50%" height="50%"/>  
웹 소켓은 HTML5에서 새로 추가된 스펙으로 실시간 양방향 데이터 전송을 위한 기술이다. HTTP와 다르게 WS라는  
프로토콜을 사용한다. 따라서 브라우저와 서버가 WS 프로토콜을 지원하면 사용할 수 있다. 최신 브라우저는  
대부분 웹 소켓을 지원하고, **노드는 ws나 Socket.IO같은 패키지를 통해 웹 소켓을 사용할 수 있다.**   
  
웹 소켓이 나오기 이전에는 HTTP 기술을 사용하여 실시간 데이터 전송을 구현했다. 그 중 한가지가 폴링(polling)이라고   
불리는 방식이다. HTTP가 클라이언트에서 서버로 향하는 단방향 통신이므로 주기적으로 서버에 새로운 업데이트가  
없는지 확인하는 요청을 보내, 있다면 새로운 내용을 가져오는 단순무식한 방법이었다.   
   
그러다 HTML5가 나오면서 웹 브라우저와 웹 서버가 지속적으로 연결된 라인을 통해 실시간으로 데이터를 주고받을 수 있는  
웹 소켓이 등장했다. 처음에 웹 소켓 연결이 이루어지고 나면 그 다음부터는 계속 연결된 상태로 있어 따로 업데이트가   
있는지 요청을 보낼 필요가 없다. 업데이트할 내용이 생겼다면 서버에서 바로 클라이언트에 알려준다. HTTP 프로토콜과  
포트를 공유할 수 있으므로 다른 포트에 연결할 필요도 없다. 폴링 방식에 비해 성능도 매우 개선되었다.   
    
**참고로 서버센트 이벤트(Server Sent Events, 이하 SSE)라는 기술도 등장했다.** EventSource라는 객체를 사용한다.  
처음에 한 번만 연결하면 서버가 클라이언트에 지속적으로 데이터를 보내준다. 웹 소켓과 다른 점은 클라이언트에서   
서버로는 데이터를 보낼 수 없다는 점이다. **즉, 서버에서 클라이언트로 데이터를 보내는 단방향 통신이다.**    
**웹 소켓만이 진정한 양방향 통신이다.** 양방향 통신이므로 SSE에서 할 수 있는 것은 웹 소켓으로도 모두 다 할 수 있다.  
**하지만 주식 차트 업데이트나 SNS에서 새로운 게시물 가져오기 등 굳이 양방향 통신을 할 필요가 없는 경우도 많다.  
서버에서 일방적으로 데이터를 내려주기만 하면 되기 때문이다.** 다음 장에서 경매 시스템을 만들 때 SSE 기술을  
사용해볼 것이다.  
그림 11-3 폴링 vs SSE vs 웹 소켓  
<img src="https://user-images.githubusercontent.com/33191974/153584736-05dab539-ab04-4731-a3c8-eff4630827ce.png" width="50%" height="50%"/>    
**Socket.IO는 웹 소켓을 편리하게 사용할 수 있게 도와주는 라이브러리이다.** IE9와 같이 웹 소켓을 지원하지 않는 브라우저에서는  
웹 소켓 대신 폴링 방식을 사용하여 실시간 데이터 전송을 가능하게 한다. 클라이언트 측에서 웹 소켓 연결이 끊겼다면 재연결을  
시도하기도 하고, 채팅방을 쉽게 구현할 수 있도록 메서드들이 준비되어 있다.   
  
Socket.IO를 사용하기 전에 ws 모듈로 웹 소켓이 무엇인지 직접 체험해본다.  





































